(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,a){e.exports=a(87)},51:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),s=(a(48),a(49),a(50),a(51),a(1)),o=a.n(s),u=a(3),i=a(2),m=a(4),d=a.n(m),p=a(6),E=function(e,t){var a=t.type,n=t.payload;switch(a){case"FETCH_USER":case"LOGIN":case"SIGNUP":return Object(p.a)({},e,{auth:n||!1});case"AUTH_ERROR":return Object(p.a)({},e,{error:n});default:return e}},b={auth:null,error:null},f=Object(n.createContext)(b),v=f.Provider,h=function(e){var t=e.children,a=Object(n.useReducer)(E,b),c=Object(i.a)(a,2),l=c[0],s=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/auth/user");case 2:t=e.sent,s({type:"FETCH_USER",payload:t.data.data.data});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/v1/auth/login",t);case 2:a=e.sent,n=a.data.data.data,s({type:"LOGIN",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/v1/auth/signup",t);case 2:a=e.sent,n=a.data.data.data,s({type:"SIGNUP",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v,{value:{auth:l.auth,error:l.error,fetchUser:m,login:p,signup:f,setError:function(e){s({type:"AUTH_ERROR",payload:e})}}},t)},g=a(5),N=a(13),y=a(11),O=function(e,t){var a=t.type,n=t.payload;switch(a){case"GET_CATEGORIES":return Object(p.a)({},e,{isLoading:!1,categories:n});case"ADD_CATEGORY":return Object(p.a)({},e,{categories:[].concat(Object(y.a)(e.categories),[n])});case"UPDATE_CATEGORY":var r=e.categories.map((function(e){return e.id===n.id&&(e[n.id]=n),e}));return Object(p.a)({},e,{categories:r});case"DELETE_CATEGORY":return Object(p.a)({},e,{categories:e.categories.filter((function(e){return e.id!==n}))});case"CATEGORY_ERROR":return Object(p.a)({},e,{error:n});default:return e}},x={categories:[],error:null,isLoading:!0},j=Object(n.createContext)(x),C=j.Provider,w=function(e){var t=e.children,a=Object(n.useReducer)(O,x),c=Object(i.a)(a,2),l=c[0],s=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/categories");case 2:t=e.sent,a=t.data.data.data,s({type:"GET_CATEGORIES",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/v1/categories",t);case 2:a=e.sent,n=a.data.data.data,s({type:"ADD_CATEGORY",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.patch("/api/v1/categories/".concat(t),a);case 2:n=e.sent,r=n.data.data.data,s({type:"UPDATE_CATEGORY",payload:r});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/v1/categories/".concat(t));case 2:s({type:"DELETE_CATEGORY",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(C,{value:{categories:l.categories,error:l.error,isLoading:l.isLoading,getCategories:m,addCategory:p,updateCategory:E,deleteCategory:b,setError:function(e){s({type:"CATEGORY_ERROR",payload:e})}}},t)},k=function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_ITEMS":return Object(p.a)({},e,{items:n});case"ADD_ITEM":return Object(p.a)({},e,{items:[].concat(Object(y.a)(e.items),[n])});case"UPDATE_ITEM":var r=e.items.map((function(e){return e.id===n.id&&(e[n.id]=n),e}));return Object(p.a)({},e,{items:r});case"DELETE_ITEM":return Object(p.a)({},e,{items:e.items.filter((function(e){return e.id!==n}))});case"ITEM_ERROR":return Object(p.a)({},e,{error:n});default:return e}},S={items:[],error:null},R=Object(n.createContext)(S),T=R.Provider,D=function(e){var t=e.children,a=Object(n.useReducer)(k,S),c=Object(i.a)(a,2),l=c[0],s=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/v1/pictures/items/".concat(t));case 2:return e.next=4,d.a.delete("/api/v1/items/".concat(t));case 4:s({type:"DELETE_ITEM",payload:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(T,{value:{items:l.items,error:l.error,setItems:function(e){s({type:"SET_ITEMS",payload:e})},addItem:function(e){s({type:"ADD_ITEM",payload:e})},updateItem:function(e){s({type:"UPDATE_ITEM",payload:e})},deleteItem:m,setError:function(e){s({type:"ITEM_ERROR",payload:e})}}},t)},I=function(e,t){var a=t.type,n=t.payload;switch(a){case"GET_VOUCHERS":return Object(p.a)({},e,{isLoading:!1,vouchers:n});case"ADD_VOUCHER":return Object(p.a)({},e,{vouchers:[].concat(Object(y.a)(e.vouchers),[n])});case"UPDATE_VOUCHER":var r=e.vouchers.map((function(e){return e.id===n.id&&(e[n.id]=n),e}));return Object(p.a)({},e,{vouchers:r});case"DELETE_VOUCHER":return Object(p.a)({},e,{vouchers:e.vouchers.filter((function(e){return e.id!==n}))});case"VOUCHER_ERROR":return Object(p.a)({},e,{error:n});default:return e}},P={vouchers:[],error:null,isLoading:!0},A=Object(n.createContext)(P),_=A.Provider,U=function(e){var t=e.children,a=Object(n.useReducer)(I,P),c=Object(i.a)(a,2),l=c[0],s=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/vouchers");case 2:t=e.sent,a=t.data.data.data,s({type:"GET_VOUCHERS",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/v1/vouchers",t);case 2:a=e.sent,n=a.data.data.data,s({type:"ADD_VOUCHER",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.patch("/api/v1/vouchers/".concat(t),a);case 2:n=e.sent,r=n.data.data.data,s({type:"UPDATE_VOUCHER",payload:r});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/v1/vouchers/".concat(t));case 2:s({type:"DELETE_VOUCHER",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_,{value:{vouchers:l.vouchers,error:l.error,isLoading:l.isLoading,getVouchers:m,addVoucher:p,updateVoucher:E,deleteVoucher:b,setError:function(e){s({type:"VOUCHER_ERROR",payload:e})}}},t)},F=function(e,t){var a=t.type,n=t.payload;switch(a){case"ADD_CART":return Object(p.a)({},e,{carts:[].concat(Object(y.a)(e.carts),[n])});case"UPDATE_CART":var r=n.id,c=n.operator,l=Object(y.a)(e.carts),s=l.findIndex((function(e){return e.id===r}));return"add"===c?l[s].quantity++:l[s].quantity--,l[s].totalPrice=l[s].price*l[s].quantity,Object(p.a)({},e,{carts:l});case"DELETE_CART":return Object(p.a)({},e,{carts:e.carts.filter((function(e){return e.id!==n}))});case"RESET_CART":return Object(p.a)({},e,{carts:n,courier:null,error:null});case"SET_COURIER":return Object(p.a)({},e,{courier:n});case"CART_ERROR":return Object(p.a)({},e,{error:n});default:return e}},V={carts:[],courier:null,error:null},M=Object(n.createContext)(V),L=M.Provider,q=function(e){var t=e.children,a=Object(n.useReducer)(F,V),c=Object(i.a)(a,2),l=c[0],s=c[1],o=function(e){s({type:"UPDATE_CART",payload:e})};return r.a.createElement(L,{value:{carts:l.carts,error:l.error,courier:l.courier,countQuantity:function(){return l.carts.reduce((function(e,t){return e+t.quantity}),0)},countTotalPrice:function(){return l.carts.reduce((function(e,t){return e+t.totalPrice}),0)},addCart:function(e,t){var a=e.id,n=e.name,r=e.price,c=e.pictures;if(l.carts.find((function(e){return e.id===a})))return o({id:a,operator:t});var u={id:a,name:n,price:r,picturePath:c[0].path,quantity:1,totalPrice:1*r};s({type:"ADD_CART",payload:u})},updateCart:o,deleteCart:function(e){s({type:"DELETE_CART",payload:e})},resetCart:function(){s({type:"RESET_CART",payload:[]})},setCourier:function(e){s({type:"SET_COURIER",payload:e})},setError:function(e){s({type:"CART_ERROR",payload:e})}}},t)},G=function(){return r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/api/v1/auth/logout",className:"nav-link"},"Logout ",r.a.createElement("span",{className:"sr-only"})))},H=function(){var e=Object(n.useContext)(M).countQuantity;return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",className:"btn btn-light btn-cart","data-toggle":"modal","data-target":"#cartModal"},r.a.createElement("i",{className:"fas fa-cart-arrow-down"})," Cart"," ",r.a.createElement("div",{className:"text-success small-text-cart"},e()))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/orders",className:"nav-link"},"Orders ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement(G,null))},Y=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item ml-2"},r.a.createElement(g.b,{to:"/signup",className:"btn btn-outline-success my-2 my-sm-0"},"Signup ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement("li",{className:"nav-item ml-2"},r.a.createElement(g.b,{to:"/login",className:"btn btn-success my-2 my-sm-0"},"Login ",r.a.createElement("span",{className:"sr-only"}))))},B=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/admin/categories",className:"nav-link"},"Category ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/admin/items",className:"nav-link"},"Item ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/admin/vouchers",className:"nav-link"},"Voucher ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement(G,null))},Q=function(){var e=Object(n.useContext)(f).auth;return!1===e||e&&2===e.roleId?r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.b,{to:"/items",className:"nav-link"},"Items ",r.a.createElement("span",{className:"sr-only"}))):null},z=a(16),W=a.n(z),Z=function(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e).replace(/,00/,"")},J=function(){var e=Object(n.useContext)(M),t=e.carts,a=e.countTotalPrice,c=e.updateCart,l=e.deleteCart,s=Object(N.f)(),o=function(e,a){var n=t.find((function(t){return t.id===e}));if(!("subtract"===a&&n.quantity<=1))return c({id:e,operator:a})},u=function(){W()("#cartModal").modal("toggle"),s.push("/checkout")},i=function(e){return r.a.createElement("div",{className:"modal fade",id:"cartModal",tabIndex:-1,role:"dialog","aria-labelledby":"cartTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title",id:"cartTitle"},"You have ",t.length," item in your cart"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),e,r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),t.length?r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:u},"Checkout"):""))))};return t.length?i(r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"container-fluid"},t.map((function(e){return r.a.createElement("div",{className:"row mb-4",key:e.id},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:e.picturePath,className:"d-block w-100",alt:e.name})),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("p",null,e.name)),r.a.createElement("div",{className:"float-right"},r.a.createElement("div",{className:"text-danger btn-pointer",onClick:function(){return t=e.id,l(t);var t}},r.a.createElement("i",{className:"fas fa-trash"})))),r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("span",{className:"font-weight-bold"},"Quantity")),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"font-weight-bold"},"Price"))),r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("div",{className:"btn-pointer text-danger",onClick:function(){return o(e.id,"subtract")}},r.a.createElement("i",{className:"fas fa-minus"})),r.a.createElement("input",{type:"text",className:"input-quantity",disabled:!0,value:e.quantity}),r.a.createElement("div",{className:"btn-pointer text-success",onClick:function(){return o(e.id,"add")}},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"text-success font-weight-bold"},Z(e.totalPrice))))))}))),r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"border-top mb-3"}),r.a.createElement("h4",{className:"float-left text-uppercase"},"Total"),r.a.createElement("h5",{className:"float-right text-success font-weight-bold"},Z(a()))))):i(r.a.createElement("div",{className:"modal-body"},"Empty :("))},$=function(){var e=Object(n.useContext)(f).auth;return r.a.createElement(n.Fragment,null,r.a.createElement(J,null),r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light mb-4 pl-0 pr-0"},r.a.createElement(g.b,{to:"/",className:"navbar-brand text-uppercase"},"medanstore"),r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(Q,null),function(){switch(e){case null:return;case!1:return r.a.createElement(Y,null);default:return e&&1===e.roleId?r.a.createElement(B,null):r.a.createElement(H,null)}}())))},K=function(){var e=Object(n.useContext)(f).auth;return!1===e||e&&2===e.roleId?r.a.createElement("form",{action:"/items"},r.a.createElement("input",{className:"form-control",type:"search",name:"search",placeholder:"Search","aria-label":"Search"})):null},X=function(){return r.a.createElement("div",{className:"jumbotron center-vh"},r.a.createElement("h1",{className:"display-4"},"Welcome"),r.a.createElement("p",{className:"lead"},"You have come to the right place. This is where you will find the cheapest, and yet with the highest quality phones ever!"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null),r.a.createElement(g.b,{to:"/items",className:"btn btn-success btn-lg",role:"button"},"Find more"))},ee=function(e){var t=e.content;return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},t)},te=function(e){return e?r.a.createElement(ee,{content:e}):null},ae=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],p=Object(N.f)(),E=Object(n.useContext)(f),b=E.login,v=E.setError,h=E.error;Object(n.useEffect)((function(){v(null)}),[]);var g=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a&&m){e.next=3;break}return e.abrupt("return",v("Username and password must be filled!"));case 3:return e.prev=3,e.next=6,b({username:a,password:m});case 6:v(null),p.push("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),c(""),d(""),v(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"center-vh auth-section"},te(h),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Welcome back!"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:g},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Login")))))},ne=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())},re=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),b=E[0],v=E[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),y=g[0],O=g[1],x=Object(N.f)(),j=Object(n.useContext)(f),C=j.signup,w=j.setError,k=j.error;Object(n.useEffect)((function(){w(null)}),[]);var S=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a&&m&&b&&y){e.next=3;break}return e.abrupt("return",w("All fields must be filled!"));case 3:if(ne(m)){e.next=5;break}return e.abrupt("return",w("Email is not valid!"));case 5:if(b===y){e.next=7;break}return e.abrupt("return",w("Password does not match!"));case 7:return e.prev=7,e.next=10,C({username:a,email:m.toLowerCase(),password:b});case 10:w(null),x.push("/"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),c(""),d(""),v(""),O(""),w(e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"center-vh auth-section"},te(k),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Excellent choice!"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",id:"email",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordConfirmation"},"Confirm Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"passwordConfirmation",value:y,onChange:function(e){return O(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Signup")))))},ce=a(12),le=a.n(ce),se=function(){var e=window.location.href,t=e.split("?")[0],a=function(t){return!!e.includes("condition=".concat(t))},n=function(e){var a=e.target.value,n=e.target.checked,r=le.a.parse(window.location.search);n?r.condition?(r.condition=[r.condition],r.condition.push(a)):r.condition=a:r.condition instanceof Array?r.condition=r.condition.filter((function(e){return e!==a})):delete r.condition;var c=le.a.stringifyUrl({url:t,query:r});window.location.href=c};return r.a.createElement("div",null,r.a.createElement("div",{className:"float-left"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"newCheckbox",value:"New",defaultChecked:a("New"),onChange:n}),r.a.createElement("label",{className:"form-check-label",htmlFor:"newCheckbox"},"New"))),r.a.createElement("div",{className:"float-left"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"usedCheckbox",value:"Used",defaultChecked:a("Used"),onChange:n}),r.a.createElement("label",{className:"form-check-label",htmlFor:"usedCheckbox"},"Used"))))},oe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=window.location.href,s=l.split("?")[0];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/categories");case 2:t=e.sent,a=t.data.data.data,c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(e){var t=e.target.value,a=e.target.checked,n=le.a.parse(window.location.search);a?n.categoryId instanceof Array?n.categoryId.push(t):n.categoryId=[n.categoryId,t]:n.categoryId instanceof Array?n.categoryId=n.categoryId.filter((function(e){return e!==t})):delete n.categoryId;var r=le.a.stringifyUrl({url:s,query:n});window.location.href=r};return a.map((function(e){return r.a.createElement("div",{className:"form-check form-check-inline",key:e.id},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"category",value:e.id,defaultChecked:(t=e.id,!!l.includes("categoryId=".concat(t))),onChange:m}),r.a.createElement("label",{className:"form-check-label",htmlFor:"Category"},e.value));var t}))},ue=function(){var e=le.a.parse(window.location.search),t=function(t){return e.sort_by&&delete e.sort_by,e.sort&&delete e.sort,"/items?".concat(le.a.stringify(Object(p.a)({},e,{},t)))};return r.a.createElement("div",{className:"btn-group dropleft float-right"},r.a.createElement("button",{className:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("a",{href:t({sort_by:"price",sort:"asc"}),className:"dropdown-item"},"Sort by the lowest price"),r.a.createElement("a",{href:t({sort_by:"price",sort:"desc"}),className:"dropdown-item"},"Sort by the highest price"),r.a.createElement("a",{href:t({sort_by:"name"}),className:"dropdown-item"},"Sort by the name"),r.a.createElement("a",{href:t({sort_by:"latest"}),className:"dropdown-item"},"Sort by latest")))},ie=function(){var e=Object(n.useContext)(R),t=e.items,a=e.setItems,c=Object(n.useState)(1),l=Object(i.a)(c,2),s=l[0],m=l[1],p=Object(n.useState)(null),E=Object(i.a)(p,2),b=E[0],v=E[1],h=Object(n.useContext)(M).addCart,y=Object(n.useContext)(f).auth,O=Object(N.f)(),x=window.location.search;Object(n.useEffect)((function(){var e=x?x.replace(/[?]/,"")+"&":"",t=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/v1/items/pictures?".concat(e,"page=").concat(s));case 2:n=t.sent,r=n.data.data.data,a(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/v1/items/pictures?".concat(e,"page=").concat(s+1));case 2:a=t.sent,0===a.data.data.data.length?v(!1):v(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),n()}),[s]);return t.length&&null!==b?r.a.createElement("div",{className:"mt-5"},r.a.createElement("div",{className:"clearfix"},r.a.createElement(se,null),r.a.createElement(ue,{setPage:m})),r.a.createElement("div",null,r.a.createElement(oe,null)),r.a.createElement("div",{className:"row row-cols-1 row-cols-md-3 mt-5"},t.map((function(e){return r.a.createElement("div",{className:"col mb-5 text-center",key:e.id},r.a.createElement("div",{className:"card item-card"},r.a.createElement(g.b,{to:"/items/"+e.id},r.a.createElement("img",{src:e.pictures[0].path,className:"card-img-top item-img",alt:e.name})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text text-success item-price"},Z(e.price)),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(e){if(!1===y)return O.push("/login");h(e,"add")}(e)}},"Add to cart"))))}))),1===s&&!1===b?null:r.a.createElement("nav",{"aria-label":"Page navigation",className:"item-pagination"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item ".concat(1===s?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return m(s-1)}},"Previous")),r.a.createElement("li",{className:"page-item ".concat(!1===b?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return m(s+1)}},"Next"))))):null},me=function(e){var t=e.pictures;return r.a.createElement("div",{id:"carouselPhone",className:"carousel slide carousel-fade","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"},t.map((function(e,t){return r.a.createElement("div",{className:"carousel-item "+(0===t?"":"active"),"data-interval":"10000",key:e.id},r.a.createElement("img",{src:e.path,className:"d-block w-100 phone-img",alt:"phone pictures"}))}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselPhone",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselPhone",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))},de=function(){var e=Object(n.useContext)(M).addCart,t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(N.g)().id;return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/items/".concat(s,"/category&pictures"));case 2:t=e.sent,a=t.data.data.data,l(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c?r.a.createElement("div",{className:"mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-5 offset-sm-1"},r.a.createElement(me,{pictures:c.pictures})),r.a.createElement("div",{className:"col-sm-5 text-center"},r.a.createElement("h2",{className:"mt-5 mb-4"},c.name),r.a.createElement("h1",{className:"text-success mb-5"},Z(c.price)),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e(c,"add")}},"Add to cart"))),r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"card-header"},"Specifications"),r.a.createElement("div",{className:"card-body"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Category"),r.a.createElement("td",null,c.category.value)),r.a.createElement("tr",null,r.a.createElement("th",null,"Description"),r.a.createElement("td",null,c.description)),r.a.createElement("tr",null,r.a.createElement("th",null,"Stock"),r.a.createElement("td",null,c.stock)),r.a.createElement("tr",null,r.a.createElement("th",null,"Condition"),r.a.createElement("td",null,c.condition)),r.a.createElement("tr",null,r.a.createElement("th",null,"CPU"),r.a.createElement("td",null,c.cpu)),r.a.createElement("tr",null,r.a.createElement("th",null,"Display"),r.a.createElement("td",null,c.display)),r.a.createElement("tr",null,r.a.createElement("th",null,"RAM"),r.a.createElement("td",null,c.ram)),r.a.createElement("tr",null,r.a.createElement("th",null,"Storage"),r.a.createElement("td",null,c.storage)),r.a.createElement("tr",null,r.a.createElement("th",null,"Battery"),r.a.createElement("td",null,c.battery)),r.a.createElement("tr",null,r.a.createElement("th",null,"Rear Camera"),r.a.createElement("td",null,c.rearCamera)),r.a.createElement("tr",null,r.a.createElement("th",null,"Front Camera"),r.a.createElement("td",null,c.frontCamera)),r.a.createElement("tr",null,r.a.createElement("th",null,"Operating System"),r.a.createElement("td",null,c.os)),r.a.createElement("tr",null,r.a.createElement("th",null,"Network"),r.a.createElement("td",null,c.network))))))):null},pe=a(42),Ee=function(e){var t=e.city,a=e.quantity,c=Object(n.useContext)(M),l=c.setCourier,s=c.error,m=c.setError,p=Object(n.useState)([]),E=Object(i.a)(p,2),b=E[0],f=E[1];Object(n.useEffect)((function(){t&&function(){var e=Object(u.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/v1/raja-ongkir/".concat(t.value,"/costs?quantity=").concat(a));case 3:n=e.sent,r=n.data.data.data,f(r),s&&m(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[t]);return t?r.a.createElement("div",{className:"modal fade",id:"courierModal",tabIndex:-1,role:"dialog","aria-labelledby":"courierTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title",id:"cartTitle"},"Choose a courier"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",className:"text-uppercase"},"Service"),r.a.createElement("th",{scope:"col",className:"text-uppercase"},"Weight"),r.a.createElement("th",{scope:"col",className:"text-uppercase"},"Cost"),r.a.createElement("th",{scope:"col",className:"text-uppercase text-center"},"Est. Days"),r.a.createElement("th",{scope:"col",className:"text-uppercase text-center"},"Choose"))),r.a.createElement("tbody",null,b?b.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},e.name),r.a.createElement("td",null,"200g x ",a," items = ",200*a,"g"),r.a.createElement("td",null,Z(e.cost[0].value)),r.a.createElement("td",{className:"text-center text-lowercase"},e.cost[0].etd),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return function(e){l(e),W()("#courierModal").modal("toggle")}(e)}},"Choose")))})):null)))))):null},be=a(37),fe=a.n(be),ve=function(){return r.a.createElement("div",{className:"center-vh"},r.a.createElement(fe.a,{type:"spokes",color:"#28a745"}))},he=function(){var e=Object(n.useContext)(M),t=e.carts,a=e.courier,c=e.setCourier,l=e.error,s=e.updateCart,m=e.countTotalPrice,p=e.countQuantity,E=e.setError,b=e.resetCart,v=Object(n.useContext)(f).auth,h=Object(n.useState)(""),g=Object(i.a)(h,2),y=g[0],O=g[1],x=Object(n.useState)(""),j=Object(i.a)(x,2),C=j[0],w=j[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),R=S[0],T=S[1],D=Object(n.useState)(0),I=Object(i.a)(D,2),P=I[0],A=I[1],_=Object(n.useState)(0),U=Object(i.a)(_,2),F=U[0],V=U[1],L=Object(n.useState)(0),q=Object(i.a)(L,2),G=q[0],H=q[1],Y=Object(n.useState)([]),B=Object(i.a)(Y,2),Q=B[0],z=B[1],W=Object(n.useState)(!0),J=Object(i.a)(W,2),$=J[0],K=J[1],X=Object(N.f)();Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,d.a.get("/api/v1/raja-ongkir/cities");case 3:t=e.sent,a=t.data.data.data.rajaongkir.results,n=a.map((function(e){return{value:e.city_id,label:e.city_name}})),z(n),K(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){K(!0);var e=m()*(P/100);V(e);var t=m()-e;H(a?t+a.cost[0].value:t),K(!1)}),[t,P,a]),Object(n.useEffect)((function(){return function(){K(!1),b()}}),[]);var ee=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y){e.next=3;break}return e.abrupt("return",E("Voucher code must not be empty!"));case 3:return e.prev=3,K(!0),e.next=7,d.a.get("/api/v1/vouchers/".concat(y));case 7:a=e.sent,n=a.data.data.data,l&&E(null),A(n.discount),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),E(e.t0.response.data);case 16:K(!1),O("");case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(e,a){var n=t.find((function(t){return t.id===e}));if(!("subtract"===a&&n.quantity<=1))return s({id:e,operator:a})},ne=function(){var e=Object(u.a)(o.a.mark((function e(){var n,r,c,l,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),c=t.map((function(e){return{id:e.id,quantity:e.quantity,totalPrice:e.totalPrice}})),r={items:c},e.next=6,d.a.post("/api/v1/orders",r);case 6:return n=e.sent,l=n.data.data.data,s=l[0].orderId,r={discount:P,deliveryCost:a.cost[0].value,deliveryAddress:"".concat(C,", ").concat(R.label),courier:a.name,finalPrice:G},e.next=12,d.a.post("/api/v1/payments/".concat(s),r);case 12:X.push("/orders"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),E(e.t0.response.data),K(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return!1===v?r.a.createElement(N.a,{to:"/login"}):!t.length&&v&&Object.keys(v).length?r.a.createElement(N.a,{to:"/items"}):!Q.length||$?r.a.createElement(ve,null):r.a.createElement(n.Fragment,null,r.a.createElement(Ee,{city:R,quantity:p()}),r.a.createElement("div",{className:"mt-5"},r.a.createElement("h1",{className:"mb-5"},"My Shopping Cart"),r.a.createElement("div",{className:"clearfix mb-5"},r.a.createElement("p",{className:"mb-1"},"Choose a courier"),r.a.createElement("form",{className:"form-inline float-left"},r.a.createElement(pe.a,{value:R,onChange:function(e){return function(e){T(e),a&&c(null)}(e)},options:Q,placeholder:"City"}),r.a.createElement("input",{id:"destination-address-input",className:"form-control mr-sm-2",type:"text",placeholder:"Address","aria-label":"Address",value:C,onChange:function(e){return w(e.target.value)}}),R&&C?r.a.createElement("button",{type:"button",className:"btn btn-success","data-toggle":"modal","data-target":"#courierModal"},"Open"):r.a.createElement("button",{type:"button",className:"btn btn-success","data-toggle":"modal","data-target":"#courierModal",disabled:!0},"Open")),r.a.createElement("form",{className:"form-inline float-right",onSubmit:ee},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Voucher Code","aria-label":"Voucher Code",value:y,onChange:function(e){return O(e.target.value)}}),r.a.createElement("button",{className:"btn btn-success my-2 my-sm-0",type:"submit"},"Apply"))),te(l),P?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Congratulations! You have got ",P,"% discount :)"):"",r.a.createElement("table",{className:"table mb-5"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Item"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Total"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",null,e.name),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-pointer text-danger",onClick:function(){return ae(e.id,"subtract")}},r.a.createElement("i",{className:"fas fa-minus"})),r.a.createElement("input",{className:"input-quantity ml-2 mr-2",name:"quantity",disabled:!0,value:e.quantity}),r.a.createElement("div",{className:"btn-pointer text-success",onClick:function(){return ae(e.id,"add")}},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("td",null,Z(e.price)),r.a.createElement("td",null,Z(e.price*e.quantity)))})),r.a.createElement("tr",null,r.a.createElement("th",null,"Subtotal"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("th",null,Z(m()))),P?r.a.createElement("tr",{className:"text-danger"},r.a.createElement("th",null,"Voucher Code Discount ",P,"%"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("th",null,"- ",Z(F))):null,a?r.a.createElement("tr",{className:"text-success"},r.a.createElement("th",null,a.name),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("th",null,"+ ",Z(a.cost[0].value))):null,r.a.createElement("tr",{className:"text-success"},r.a.createElement("th",null,"Total"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("th",null,Z(G))))),r.a.createElement("div",{className:"text-right mb-5"},R&&C&&a?r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return ne()}},"Finish Order"):r.a.createElement("button",{type:"button",className:"btn btn-success",disabled:!0},"Finish Order"))))},ge=a(39),Ne=a(40),ye=a.n(Ne),Oe=a(41),xe=a.n(Oe),je=function(e){return xe()(new Date(e)).format("lll")},Ce=function(e){var t=e.title,a=e.id,n=e.action,c=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n(a);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"modal fade",id:"warningModal",tabIndex:-1,role:"dialog","aria-labelledby":"warningTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",{className:"modal-title",id:"warningTitle"},t),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are you sure you want to do this?")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("form",{onSubmit:c},r.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Confirm"))))))},we=function(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(1),m=Object(i.a)(s,2),p=m[0],E=m[1],b=Object(n.useState)(null),v=Object(i.a)(b,2),h=v[0],g=v[1],y=Object(n.useState)(null),O=Object(i.a)(y,2),x=O[0],j=O[1],C=Object(n.useContext)(f).auth,w=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.patch("/api/v1/payments/".concat(t),{active:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.patch("api/v1/payments/".concat(t,"/stripe"),{token:a.id});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/v1/payments?page=".concat(p));case 3:t=e.sent,a=t.data.data.data,n=Object(ge.a)(a),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=16;break}return c=r.value,e.next=12,d.a.get("api/v1/orders/".concat(c.orderId,"/items"));case 12:s=e.sent,c.orders=s.data.data.data;case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:l(a),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(0),console.log(e.t1.response.data);case 30:case"end":return e.stop()}}),e,null,[[0,27],[6,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/payments?page=".concat(p+1));case 2:t=e.sent,0===t.data.data.data.length?g(!1):g(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[p]);return!1===C?r.a.createElement(N.a,{to:"/login"}):c.length&&null!==h?r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{title:"Cancel the Order",id:x,action:w}),r.a.createElement("div",{className:"mt-5"},r.a.createElement("h1",{className:"mb-5"},"My Orders"),r.a.createElement("div",{className:"orders-contaienr"},c.map((function(t){return r.a.createElement("div",{className:"order-section",key:t.id},t.active?r.a.createElement("div",{className:"alert alert-info"},"Please pay your order before ",je(t.expiredTime)):null,r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h4",null,"Status:",!t.active&&t.statusPayment?r.a.createElement("span",{className:"text-success"}," Paid"):null,t.active&&!t.statusPayment?r.a.createElement("span",{className:"text-secondary"}," Waiting for Payment"):null,t.active||t.statusPayment?null:r.a.createElement("span",{className:"text-danger"}," Cancelled"))),t.active?r.a.createElement("div",{className:"float-right"},r.a.createElement(ye.a,{name:"MEDANSTORE Co.",description:"Get your dream phones now :)",amount:100*t.finalPrice,currency:"IDR",stripeKey:"pk_test_qk9AekFqbYfpDfPjfbYuBHNZ",email:C.email,token:function(e){return k(t.orderId,e)}},r.a.createElement("button",{type:"button",className:"btn btn-success"},"Pay now")),r.a.createElement("button",{type:"button",className:"btn btn-danger ml-2","data-toggle":"modal","data-target":"#warningModal",onClick:function(){return j(t.orderId)}},"Cancel")):null),r.a.createElement("p",{className:"text-secondary mb-0"},"Ordered on ",je(t.createdAt),t.courier),r.a.createElement("div",{className:"clearfix mb-1"},r.a.createElement("div",{className:"float-left"},r.a.createElement("p",{className:"text-secondary"},"Sent to ",t.deliveryAddress," by ",t.courier)),r.a.createElement("div",{className:"float-right"},r.a.createElement("p",{className:"text-secondary"},"Order ID #$",t.orderId))),r.a.createElement("table",{className:"table mb-5"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Item"),r.a.createElement("th",{scope:"col",className:"text-center"},"Quantity"),r.a.createElement("th",{scope:"col"},"Total"))),r.a.createElement("tbody",null,function(t){return e=0,t.orders.map((function(t){return e+=1*t.totalPrice,r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.item.name),r.a.createElement("td",{className:"text-center"},t.quantity),r.a.createElement("td",null,Z(t.totalPrice)))}))}(t),r.a.createElement("tr",null,r.a.createElement("th",null,"Subtotal"),r.a.createElement("td",null),r.a.createElement("th",null,Z(e))),0!==t.discount?r.a.createElement("tr",{className:"text-danger"},r.a.createElement("th",null,"Voucher Code Discount ",t.discount,"%"),r.a.createElement("td",null),r.a.createElement("th",null,"- ",Z(e*t.discount*1/100))):null,r.a.createElement("tr",{className:"text-success"},r.a.createElement("th",null,"Delivery Cost"),r.a.createElement("td",null),r.a.createElement("th",null,"+ ",Z(t.deliveryCost))),r.a.createElement("tr",{className:"text-success"},r.a.createElement("th",null,"Total"),r.a.createElement("td",null),r.a.createElement("th",null,Z(t.finalPrice))))),r.a.createElement("div",{className:"border-bottom mb-5 border-success"}))})))),1===p&&!1===h?null:r.a.createElement("nav",{"aria-label":"Page navigation",className:"item-pagination"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item ".concat(1===p?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return E(p-1)}},"Previous")),r.a.createElement("li",{className:"page-item ".concat(!1===h?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return E(p+1)}},"Next"))))):null},ke=function(){var e=Object(n.useContext)(j),t=e.categories,a=e.getCategories,c=e.deleteCategory,l=e.isLoading,s=Object(n.useState)(null),o=Object(i.a)(s,2),u=o[0],m=o[1];Object(n.useEffect)((function(){a()}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{title:"Delete a Category",id:u,action:c}),r.a.createElement("div",{className:"clearfix mt-5 mb-3"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h4",null,"Category")),r.a.createElement("div",{className:"float-right"},r.a.createElement(g.b,{to:"/admin/categories/create",className:"btn btn-success"},"New Category"))),l?null:t.length?r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-uppercase"},r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Value"),r.a.createElement("th",{className:"text-center"},"Update"),r.a.createElement("th",{className:"text-center"},"Delete"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.value),r.a.createElement("td",{className:"text-center"},r.a.createElement(g.b,{to:"/admin/categories/"+e.id+"/update",className:"btn btn-outline-success"},"Update")),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-danger","data-toggle":"modal","data-target":"#warningModal",onClick:function(){return m(e.id)}},"Delete")))})))):r.a.createElement("div",{className:"center-vh"},r.a.createElement("h3",null,"No record yet :(")))},Se=function(e){var t=e.title,a=e.buttonName,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],p=Object(n.useContext)(j),E=p.addCategory,b=p.updateCategory,f=p.setError,v=p.error,h=Object(N.f)(),y=Object(N.g)().id;Object(n.useEffect)((function(){f(null),y&&function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/categories/".concat(y));case 2:t=e.sent,a=t.data.data.data,m(a.value);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var O=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=3;break}return e.abrupt("return",f("Value must be filled"));case 3:if(e.prev=3,y){e.next=9;break}return e.next=7,E({value:s});case 7:e.next=11;break;case 9:return e.next=11,b(y,{value:s});case 11:h.push("/admin/categories"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),f(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2"},te(v),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},t),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:O},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"value"},"Value"),r.a.createElement("input",{type:"text",className:"form-control",id:"value",value:s,onChange:function(e){return m(e.target.value)}})),r.a.createElement(g.b,{to:"/admin/categories",className:"btn btn-secondary"},"Back"),r.a.createElement("button",{type:"submit",className:"btn btn-success ml-2"},a))))))},Re=function(){var e=Object(n.useContext)(R),t=e.items,a=e.setItems,c=e.deleteItem,l=Object(n.useState)(1),s=Object(i.a)(l,2),m=s[0],p=s[1],E=Object(n.useState)(!0),b=Object(i.a)(E,2),f=b[0],v=b[1],h=Object(n.useState)(null),N=Object(i.a)(h,2),y=N[0],O=N[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/items?page=".concat(m));case 2:t=e.sent,n=t.data.data.data,a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/items/?page=".concat(m+1));case 2:t=e.sent,0===t.data.data.data.length?v(!1):v(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[m]);return t.length?r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{title:"Delete an Item",id:y,action:c}),r.a.createElement("div",{className:"clearfix mt-5 mb-3"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h4",null,"Item")),r.a.createElement("div",{className:"float-right"},r.a.createElement(g.b,{to:"/admin/items/create",className:"btn btn-success"},"New Item"))),r.a.createElement("table",{className:"table table-bordered table-hover mb-5"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-uppercase"},r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",null,"Condition"),r.a.createElement("th",null,"RAM"),r.a.createElement("th",null,"Storage"),r.a.createElement("th",{className:"text-center"},"Update"),r.a.createElement("th",{className:"text-center"},"Delete"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,Z(e.price)),r.a.createElement("td",null,e.stock),r.a.createElement("td",null,e.condition),r.a.createElement("td",null,e.ram),r.a.createElement("td",null,e.storage),r.a.createElement("td",{className:"text-center"},r.a.createElement(g.b,{to:"/admin/items/"+e.id+"/update",className:"btn btn-outline-success"},"Update")),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-danger","data-toggle":"modal","data-target":"#warningModal",onClick:function(){O(e.id)}},"Delete")))})))),r.a.createElement("nav",{"aria-label":"Page navigation",className:"item-pagination"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item ".concat(1===m?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return p(m-1)}},"Previous")),r.a.createElement("li",{className:"page-item ".concat(!1===f?"disabled":"")},r.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return p(m+1)}},"Next"))))):null},Te=function(e){var t=e.title,a=e.buttonName,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],p=Object(n.useState)(0),E=Object(i.a)(p,2),b=E[0],f=E[1],v=Object(n.useState)(""),h=Object(i.a)(v,2),y=h[0],O=h[1],x=Object(n.useState)(""),j=Object(i.a)(x,2),C=j[0],w=j[1],k=Object(n.useState)(0),S=Object(i.a)(k,2),T=S[0],D=S[1],I=Object(n.useState)("New"),P=Object(i.a)(I,2),A=P[0],_=P[1],U=Object(n.useState)(""),F=Object(i.a)(U,2),V=F[0],M=F[1],L=Object(n.useState)(""),q=Object(i.a)(L,2),G=q[0],H=q[1],Y=Object(n.useState)(""),B=Object(i.a)(Y,2),Q=B[0],z=B[1],W=Object(n.useState)(""),Z=Object(i.a)(W,2),J=Z[0],$=Z[1],K=Object(n.useState)(""),X=Object(i.a)(K,2),ee=X[0],ae=X[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useState)(""),oe=Object(i.a)(se,2),ue=oe[0],ie=oe[1],me=Object(n.useState)(""),de=Object(i.a)(me,2),pe=de[0],Ee=de[1],be=Object(n.useState)(""),fe=Object(i.a)(be,2),ve=fe[0],he=fe[1],ge=Object(n.useState)(1),Ne=Object(i.a)(ge,2),ye=Ne[0],Oe=Ne[1],xe=Object(n.useState)(null),je=Object(i.a)(xe,2),we=je[0],ke=je[1],Se=Object(n.useState)([]),Re=Object(i.a)(Se,2),Te=Re[0],De=Re[1],Ie=Object(n.useState)([]),Pe=Object(i.a)(Ie,2),Ae=Pe[0],_e=Pe[1],Ue=Object(n.useContext)(R),Fe=Ue.addItem,Ve=Ue.updateItem,Me=Ue.setError,Le=Ue.error,qe=Object(N.f)(),Ge=Object(N.g)().id;Object(n.useEffect)((function(){Me(null),function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/categories");case 2:t=e.sent,a=t.data.data.data,De(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Ge&&function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/items/".concat(Ge,"/category&pictures"));case 2:t=e.sent,a=t.data.data.data,m(a.name),f(a.price),w(a.description),D(a.stock),_(a.condition),M(a.cpu),H(a.display),z(a.ram),$(a.storage),ae(a.battery),le(a.rearCamera),ie(a.frontCamera),Ee(a.os),he(a.network),Oe(a.categoryId),_e(a.pictures);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var He=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/v1/pictures/".concat(t));case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new FormData,n=0,r=Object.keys(y);n<r.length;n++)c=r[n],a.append("images",y[c]);return e.next=4,d.a.post("/api/v1/pictures/items/".concat(t),a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s&&b&&C&&T&&V&&G&&Q&&J&&ee&&ce&&ue&&pe&&ve){e.next=4;break}return window.scrollTo(0,0),e.abrupt("return",Me("All fields must be filled!"));case 4:if(!(T<=0)){e.next=6;break}return e.abrupt("return",Me("Stock must be greater than zero"));case 6:if(!(b<=0)){e.next=8;break}return e.abrupt("return",Me("Price must be greater than zero"));case 8:if(e.prev=8,a={name:s,price:b,description:C,stock:T,condition:A,cpu:V,storage:J,display:G,ram:Q,battery:ee,rearCamera:ce,frontCamera:ue,os:pe,network:ve,categoryId:ye},Ge){e.next=18;break}return e.next=13,d.a.post("/api/v1/items",a);case 13:r=e.sent,n=r.data.data.data,Fe(a),e.next=23;break;case 18:return e.next=20,d.a.patch("/api/v1/items/".concat(Ge),a);case 20:c=e.sent,n=c.data.data.data,Ve(a);case 23:return e.next=25,Ye(n.id);case 25:qe.push("/admin/items"),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),Me(e.t0.response.data);case 31:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{title:"Delete a Picture",id:we,action:He}),r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2"},te(Le),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},t),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:Be,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",value:s,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",className:"form-control",id:"price",value:b,onChange:function(e){return f(e.target.value)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"images"},"Pictures"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"images",name:"images",onChange:function(e){return O(e.target.files)},multiple:!0})),r.a.createElement("div",null,Ae.map((function(e){return r.a.createElement("div",{className:"border phone-picture-container",key:e.id},r.a.createElement("img",{src:e.path,className:"phone-picture"}),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm btn-delete-phone-picture","data-toggle":"modal","data-target":"#warningModal",onClick:function(){return ke(e.id)}},"Delete ",r.a.createElement("i",{className:"fa fa-trash"})))}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Description"},"Description"),r.a.createElement("textarea",{className:"form-control",id:"description",value:C,onChange:function(e){return w(e.target.value)},rows:"5"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"stock"},"Stock"),r.a.createElement("input",{type:"number",className:"form-control",id:"stock",value:T,onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"condition"},"Condition"),r.a.createElement("select",{className:"form-control",id:"condition",value:A,onChange:function(e){return _(e.target.value)}},r.a.createElement("option",null,"New"),r.a.createElement("option",null,"Used")))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"cpu"},"CPU"),r.a.createElement("textarea",{className:"form-control",id:"cpu",rows:"2",value:V,onChange:function(e){return M(e.target.value)}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"display"},"Display"),r.a.createElement("textarea",{className:"form-control",id:"display",rows:"2",value:G,onChange:function(e){return H(e.target.value)}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"ram"},"RAM"),r.a.createElement("input",{type:"text",className:"form-control",id:"ram",value:Q,onChange:function(e){return z(e.target.value)}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"storage"},"Storage"),r.a.createElement("input",{type:"text",className:"form-control",id:"storage",value:J,onChange:function(e){return $(e.target.value)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"battery"},"Battery"),r.a.createElement("input",{type:"text",className:"form-control",id:"battery",value:ee,onChange:function(e){return ae(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"rearCamera"},"Rear Camera"),r.a.createElement("textarea",{className:"form-control",id:"rearCamera",rows:"2",value:ce,onChange:function(e){return le(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"frontCamera"},"Front Camera"),r.a.createElement("input",{type:"text",className:"form-control",id:"frontCamera",value:ue,onChange:function(e){return ie(e.target.value)}})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"os"},"OS"),r.a.createElement("input",{type:"text",className:"form-control",id:"os",value:pe,onChange:function(e){return Ee(e.target.value)}})),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",{htmlFor:"network"},"Network"),r.a.createElement("input",{type:"text",className:"form-control",id:"network",value:ve,onChange:function(e){return he(e.target.value)}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{className:"form-control",id:"category",value:ye,onChange:function(e){return Oe(e.target.value)}},Te.map((function(e){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement("option",{value:e.id},e.value))})))),r.a.createElement(g.b,{to:"/admin/items",className:"btn btn-secondary"},"Back"),r.a.createElement("button",{type:"submit",className:"btn btn-success ml-2"},a)))))))},De=function(){var e=Object(n.useContext)(A),t=e.vouchers,a=e.getVouchers,c=e.deleteVoucher,l=e.isLoading,s=Object(n.useState)(null),o=Object(i.a)(s,2),u=o[0],m=o[1];Object(n.useEffect)((function(){a()}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(Ce,{title:"Delete a Voucher",id:u,action:c}),r.a.createElement("div",{className:"clearfix mt-5 mb-3"},r.a.createElement("div",{className:"float-left"},r.a.createElement("h4",null,"Voucher")),r.a.createElement("div",{className:"float-right"},r.a.createElement(g.b,{to:"/admin/vouchers/create",className:"btn btn-success"},"New Voucher"))),l?null:t.length?r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-uppercase"},r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Code"),r.a.createElement("th",{className:"text-center"},"Discount"),r.a.createElement("th",null,"Valid Until"),r.a.createElement("th",{className:"text-center"},"Update"),r.a.createElement("th",{className:"text-center"},"Delete"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.code),r.a.createElement("td",{className:"text-center"},e.discount,"%"),r.a.createElement("td",null,je(e.expiredTime)),r.a.createElement("td",{className:"text-center"},r.a.createElement(g.b,{to:"/admin/vouchers/"+e.id+"/update",className:"btn btn-outline-success"},"Update")),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{className:"btn btn-outline-danger","data-toggle":"modal","data-target":"#warningModal",onClick:function(){m(e.id)}},"Delete")))})))):r.a.createElement("div",{className:"center-vh"},r.a.createElement("h3",null,"No record yet :(")))},Ie=function(e){var t=e.title,a=e.buttonName,c=Object(n.useState)(""),l=Object(i.a)(c,2),s=l[0],m=l[1],p=Object(n.useState)(0),E=Object(i.a)(p,2),b=E[0],f=E[1],v=Object(n.useContext)(A),h=v.addVoucher,y=v.updateVoucher,O=v.setError,x=v.error,j=Object(N.f)(),C=Object(N.g)().id;Object(n.useEffect)((function(){O(null),C&&function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/v1/vouchers/".concat(C));case 2:t=e.sent,a=t.data.data.data,m(a.code),f(a.discount);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var w=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(b<=0)){e.next=3;break}return e.abrupt("return",O("Discount must be greater than zero"));case 3:if(!(b>100)){e.next=5;break}return e.abrupt("return",O("Discount must not be greater than 100"));case 5:if(s&&b){e.next=7;break}return e.abrupt("return",O("Code and discount must be filled"));case 7:if(e.prev=7,C){e.next=13;break}return e.next=11,h({code:s,discount:b});case 11:e.next=15;break;case 13:return e.next=15,y(C,{code:s,discount:b});case 15:j.push("/admin/vouchers"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),O(e.t0.response.data);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-sm-8 offset-sm-2"},te(x),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},t),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:w},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"code"},"Code"),r.a.createElement("input",{type:"text",className:"form-control",id:"code",value:s,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"discount"},"Discount (%)"),r.a.createElement("input",{type:"number",className:"form-control",id:"discount",value:b,onChange:function(e){return f(e.target.value)}})),r.a.createElement(g.b,{to:"/admin/vouchers",className:"btn btn-secondary"},"Back"),r.a.createElement("button",{type:"submit",className:"btn btn-success ml-2"},a))))))},Pe=function(){var e=Object(n.useContext)(f).fetchUser;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement(q,null,r.a.createElement($,null),r.a.createElement(K,null),r.a.createElement(N.b,{exact:!0,path:"/",component:X}),r.a.createElement(N.b,{exact:!0,path:"/login",component:ae}),r.a.createElement(N.b,{exact:!0,path:"/signup",component:re}),r.a.createElement(D,null,r.a.createElement(N.b,{exact:!0,path:"/items",component:ie}),r.a.createElement(N.b,{exact:!0,path:"/items/:id",component:de})),r.a.createElement(N.b,{exact:!0,path:"/checkout",component:he}),r.a.createElement(N.b,{exact:!0,path:"/orders",component:we})),r.a.createElement(w,null,r.a.createElement(N.b,{exact:!0,path:"/admin/categories",component:ke}),r.a.createElement(N.b,{exact:!0,path:"/admin/categories/create",render:function(e){return r.a.createElement(Se,Object.assign({},e,{title:"Create a Category",buttonName:"Create"}))}}),r.a.createElement(N.b,{exact:!0,path:"/admin/categories/:id/update",render:function(e){return r.a.createElement(Se,Object.assign({},e,{title:"Update the Category",buttonName:"Update"}))}})),r.a.createElement(D,null,r.a.createElement(N.b,{exact:!0,path:"/admin/items",component:Re}),r.a.createElement(N.b,{exact:!0,path:"/admin/items/create",render:function(e){return r.a.createElement(Te,Object.assign({},e,{title:"Create an Item",buttonName:"Create"}))}}),r.a.createElement(N.b,{exact:!0,path:"/admin/items/:id/update",render:function(e){return r.a.createElement(Te,Object.assign({},e,{title:"Update the Item",buttonName:"Update"}))}})),r.a.createElement(U,null,r.a.createElement(N.b,{exact:!0,path:"/admin/vouchers",component:De}),r.a.createElement(N.b,{exact:!0,path:"/admin/vouchers/create",render:function(e){return r.a.createElement(Ie,Object.assign({},e,{title:"Create a Voucher",buttonName:"Create"}))}}),r.a.createElement(N.b,{exact:!0,path:"/admin/vouchers/:id/update",render:function(e){return r.a.createElement(Ie,Object.assign({},e,{title:"Update the Voucher",buttonName:"Update"}))}})))))};l.a.render(r.a.createElement(h,null,r.a.createElement(Pe,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e63cb81c.chunk.js.map